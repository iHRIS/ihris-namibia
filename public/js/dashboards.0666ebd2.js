"use strict";(self["webpackChunkiHRIS_v5"]=self["webpackChunkiHRIS_v5"]||[]).push([[1481],{55533:function(t,e,a){a.d(e,{Z:function(){return r}});var s=a(48085),i=a(73325),r=(0,i.Z)(s.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},35030:function(t,e,a){a.d(e,{w:function(){return r}});a(26699);var s=a(9669),i=a.n(s);const r={data(){return{dashboards:[],ignoreDashboards:["testing","test","Testing","Test"],tags:[]}},methods:{getTags(t){return new Promise(((e,a)=>{let s="/dashboards/api/saved_objects/_find?type=tag&per_page=10000";t&&(s+="&page="+t),fetch(s).then((t=>{t.json().then((t=>{let s=Math.ceil(t.total/t.per_page);t.saved_objects&&(this.tags=this.tags.concat(t.saved_objects)),t.page<s?this.getTags(t.page+1).then((()=>{e()})).catch((()=>{a()})):e()})).catch((()=>{a()}))})).catch((()=>{a()}))}))},getDashboards(){return new Promise(((t,e)=>{let a={type:"dashboard",excludeExportDetails:!0,includeReferencesDeep:!1},s={method:"POST",headers:{"kbn-xsrf":!0,"Content-Type":"application/fhir+json"},redirect:"manual",data:a};i()("/dashboards/api/saved_objects/_export",s).then((e=>{let a=e.data&&e.data.split("\n"),s=!0;for(let t=0;t<a.length-1;t++)if(a[t].trim())try{const e=JSON.parse(a[t]);for(let t of e.references){if("tag"!==t.type)continue;let e=this.tags.find((e=>e.id===t.id));if(this.ignoreDashboards.includes(e.attributes.name)){s=!1;break}}s&&this.dashboards.push({id:e.id,title:e.attributes.title})}catch(r){console.error("Error parsing JSON:",r)}let i=a[a.length-1];if(i.trim())try{const t=JSON.parse(i);for(let e of t.references){if("tag"!==e.type)continue;let t=this.tags.find((t=>t.id===e.id));if(this.ignoreDashboards.includes(t.attributes.name)){s=!1;break}}s&&this.dashboards.push({id:t.id,title:t.attributes.title})}catch(r){console.error("Error parsing final JSON object:",r)}t()})).catch((t=>{console.log(t),e()}))}))}},created(){this.loading=!0,this.getTags().then((()=>{this.getDashboards().then((()=>{this.loading=!1})).catch((()=>{this.loading=!1}))})).catch((()=>{this.loading=!1}))}}},56835:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-card",{attrs:{elevation:"1"}},[a("v-card-title",{staticClass:"primary darken-1 white--text font-weight-bold justify-center"},[t._v(" Dashboards "),a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"white"},on:{click:function(e){return t.$router.push("/build-dashboard")}}},[t._v(" Build Dashboards ")])],1),a("v-card-text",[a("v-text-field",{staticClass:"white--text font-weight-bold justify-center",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{items:t.dashboards,headers:t.headers,search:t.search,"hide-default-header":"",loading:t.loading},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[a("tr",[a("td",[a("v-list-item",{on:{click:function(e){return t.$router.push("/dashboard/"+s.id)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-monitor-dashboard")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(s.title))])],1)],1)],1)])]}}])})],1)],1)],1)},i=[],r=a(35030),n={name:"dashboard",props:["id"],mixins:[r.w],data(){return{loading:!1,search:"",headers:[{text:"Name",value:"title"}]}}},o=n,d=a(43736),l=a(43453),c=a.n(l),h=a(63150),u=a(32371),f=a(37118),b=a(4228),p=a(40865),g=a(96428),m=a(97620),v=a(84562),_=a(10459),x=a(99762),Z=a(55978),k=(0,d.Z)(o,s,i,!1,null,null,null),C=k.exports;c()(k,{VBtn:h.Z,VCard:u.Z,VCardText:f.ZB,VCardTitle:f.EB,VContainer:b.Z,VDataTable:p.Z,VIcon:g.Z,VListItem:m.Z,VListItemContent:v.km,VListItemIcon:_.Z,VListItemTitle:v.V9,VSpacer:x.Z,VTextField:Z.Z})},38871:function(t,e,a){a.r(e),a.d(e,{default:function(){return l}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("iframe",{staticStyle:{border:"none"},attrs:{src:"/dashboards/app/home#/",height:"100%",width:"100%"}})},i=[],r={name:"kibana-dashboard",created(){this.$store.state.minidrawer=!0}},n=r,o=a(43736),d=(0,o.Z)(n,s,i,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=dashboards.0666ebd2.js.map